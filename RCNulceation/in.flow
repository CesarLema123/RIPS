# 2-d LJ flow simulation

dimension	3
boundary	p p p

atom_style	atomic
neighbor	0.3 bin
neigh_modify	delay 5

# create geometry

lattice		fcc 0.7
region		box block 0 5 0 5 0 5
create_box	2 box
create_atoms	2 box

mass		1 1.0
mass		2 1.0

# LJ potentials

pair_style	eam/alloy
pair_coeff	* * CuNi.eam.alloy Ni Cu

# define groups

region	     1 block INF INF INF 1.25 INF INF
group	     lower region 1
region	     2 block INF INF 8.75 INF INF INF
group	     upper region 2
group	     boundary union lower upper
group	     flow subtract all boundary

set	     group lower type 2

# initial velocities

compute	     mobile all temp
velocity     all create 1.0 482748 temp mobile
fix	     1 all nve
fix	     2 all temp/rescale 200 1.0 1.0 0.02 1.0
fix_modify   2 temp mobile

# Couette flow

#velocity     lower set 0.0 0.0 0.0
#velocity     upper set 3.0 0.0 0.0
#fix	     3 boundary setforce 0.0 0.0 0.0
#fix	     4 all enforce2d

# Poiseuille flow

velocity     boundary set 0.0 0.0 0.0
fix	     3 lower setforce 0.0 0.0 0.0
fix	     4 upper setforce 0.0 NULL 0.0
fix	     5 upper aveforce 0.0 -1.0 0.0
fix	     6 flow addforce 0.5 0.0 0.0

# Run

timestep	0.003
thermo		500
thermo_modify	temp mobile

dump 2 all custom 10 pos.XYZ id x y z
#dump		1 all atom 500 dump.flow

#dump		2 all image 100 image.*.jpg type type &
#		zoom 1.6 adiam 1.5
#dump_modify	2 pad 5

#dump		3 all movie 100 movie.mpg type type &
#		zoom 1.6 adiam 1.5
#dump_modify	3 pad 5

run		10000





